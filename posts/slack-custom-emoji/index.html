<!DOCTYPE html>
<html>

<head>
	<meta charset='utf-8'>
	<meta name='viewport' content='width=device-width, initial-scale=1'>

	<meta name='theme-color' content='#ffffff'>
	<meta name='msapplication-TileColor' content='#da532c'>
	<link rel='manifest' href='&#x2F;icons&#x2F;site.webmanifest'>
	<link rel='mask-icon' href='&#x2F;icons&#x2F;safari-pinned-tab.svg' color='#5bbad5' />
	<link rel='icon' type='image/png' sizes='16x16' href='&#x2F;icons&#x2F;favicon-16x16.png' />
	<link rel='icon' type='image/png' sizes='32x32' href='&#x2F;icons&#x2F;favicon-32x32.png' />
	<link rel='apple-touch-icon' sizes='180x180' href='&#x2F;icons&#x2F;apple-touch-icon.png' />

	<link rel='stylesheet' href='https://cdn.jsdelivr.net/npm/bulma@0.9.0/css/bulma.min.css' />
	<link rel="stylesheet"
		href="https://cdnjs.cloudflare.com/ajax/libs/galleria/1.6.1/themes/twelve/galleria.twelve.min.css" />
    
    <link rel="alternate" type="application/rss+xml" title="RSS" href="https://blog.rnett.nz/rss.xml">
    

	<link rel='stylesheet' href='https://blog.rnett.nz/site.css' />

	
	

	<title>Title can be filled in later | Slack custom emoji shinighans</title>
</head>

<body class='site'>
	
	<nav class='navbar is-light' role='navigation' aria-label='main navigation'>
		<div class='container'>
			<div class='navbar-brand'>
				<a class='navbar-item has-text-weight-bold' href='/'>Title can be filled in later</a>
				<a role='button' class='navbar-burger burger' aria-label='menu' aria-expanded='false'
					data-target='navMenu'>
					<span aria-hidden='true'></span>
					<span aria-hidden='true'></span>
					<span aria-hidden='true'></span>
				</a>
			</div>

			<div id='navMenu' class='navbar-menu'>
				<div class='navbar-end'>
					
					<a href='https:&#x2F;&#x2F;blog.rnett.nz&#x2F;' class='navbar-item'>
						Home
					</a>
					
					<a href='https:&#x2F;&#x2F;blog.rnett.nz&#x2F;posts' class='navbar-item'>
						Posts
					</a>
					
					<a href='https:&#x2F;&#x2F;blog.rnett.nz&#x2F;tags' class='navbar-item'>
						Tags
					</a>
					
					<a href='https:&#x2F;&#x2F;blog.rnett.nz&#x2F;categories' class='navbar-item'>
						Categories
					</a>
					
					<div class='navbar-item'>
						<div class='field has-addons'>
							<div class='control'>
								<input id='nav-search' class='input is-small' type='search' placeholder='Search'
									data-target="#search-modal">
							</div>
							<div class='control'>
								<a class='button is-small'>üîé</a>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</nav>
	

	<div id="search-modal" class="modal">
		<div class="modal-background"></div>
		<div class="modal-content">
			<div class='field'>
				<p class='control has-icons-right'>
					<input id='search' class='input' type='search' placeholder='Search this website.'>
					<span class='icon is-small is-right'>üîé</span>
				</p>
			</div>
			<div class='search-results'>
				<div class='search-results__items'>
				</div>
			</div>
		</div>
		<button class="modal-close is-large" aria-label="close"></button>
	</div>

	
	

	
<main class='section'>
	<div class='container'>
		<div class='columns'>
			<div class='column is-10 is-offset-1'>
				<article>
					<h1 class='title'>Slack custom emoji shinighans</h1>
					<h2 class='subtitle'>Having a look at everyone&#x27;s favourite feature in Slack</h2>
					<div class='columns mb-0'>
						<div class='column'>
							
<p class='has-text-grey'>
	David published on <time datetime='2022-02-28'>February 28, 2022</time>
</p>

						</div>
						<div class='column has-text-right-desktop'>
							
<p class='has-text-grey'>
	üï∞Ô∏è 4 min, 632 words
</p>

						</div>
					</div>

					<div class='columns mb-0'>
						<div class='column'>
							
							
<p>
	<span class="has-text-black has-text-weight-normal">Categories:</span>
	
	<a class='link has-text-weight-light' href='https://blog.rnett.nz/categories/tech/'>
		tech
	</a>
	
</p>

							
						</div>
						<div class='column has-text-right-desktop'>
							
							
<p>
	<span class="has-text-black has-text-weight-normal">Tags:</span>
	
	<a class='link has-text-weight-light' href='https://blog.rnett.nz/tags/slack/'>
		slack
	</a>
	
	<a class='link has-text-weight-light' href='https://blog.rnett.nz/tags/security/'>
		security
	</a>
	
	<a class='link has-text-weight-light' href='https://blog.rnett.nz/tags/web/'>
		web
	</a>
	
</p>

							
						</div>
					</div>

					

					
					<hr />

					<div class='content has-text-justified'>
						<p>This will be a quick one, I swear.</p>
<p>I'll start with the morale of the story:</p>
<blockquote>
<p>Some things are unexpected exhilf paths when they are working as designed.</p>
</blockquote>
<p>This story is about a widely used and the "IRC-of-web2.js": Slack and its loved custom emojis.</p>
<h2 id="custom-emojis-how-do-they-work">Custom emojis, how do they work</h2>
<p>Let's all get one the same page here:</p>
<ul>
<li>Slack lets you to just upload little <code>png</code>'s</li>
<li>These are great for building a sense of community on a slack space</li>
<li>A lot of memes get uploaded</li>
</ul>
<p>To dig deeper you need to use a tool that is considered illegal in some jurisdictions,
so use at your own risk: Inspect Element.</p>
<p><img src="/images/slack_custom_emoji/inspect-element.png" alt="A screenshot of Firefox development console with an image tag highlighed and a hover image of Picard faceplaming" /></p>
<h2 id="slack-emojis-are-public-and-unauthenticated">Slack emojis are <em>PUBLIC</em> and <em>UNAUTHENTICATED</em></h2>
<p>I'll be using a open invite Slack instance for these examples: <a rel="noopener nofollow noreferrer" target="_blank" href="https://lastweekinaws.slack.com/">lastweekinaws.slack.com</a>
hosted by the <a rel="noopener nofollow noreferrer" target="_blank" href="https://www.duckbillgroup.com/">Duck Bill group</a>. That Slack's team id is: <code>T02N6U1DVD4</code>.</p>
<blockquote>
<p>Not a paid advertiment, just here to spread good shit posters <em>cough</em> <a rel="noopener nofollow noreferrer" target="_blank" href="https://twitter.com/quinnypig">@quinnypig</a> <em>cough</em>.</p>
</blockquote>
<p>So, as you may know that the URLs for custom emojis are public and anyone can look at them if they have the URL.
The format of these urls look like this:</p>
<p><code>https://emoji.slack-edge.com/T02N6U1DVD4/squirrel/465f40c0e0.png</code> aka</p>
<p><img src="https://emoji.slack-edge.com/T02N6U1DVD4/squirrel/465f40c0e0.png" alt="A picture of a squirrel wearing a fedora and a suit" /></p>
<p>After some playing around, these urls can be expressed as <code>${team_id}/${emoji_name}/${cache_buster_hash}.png</code></p>
<ul>
<li>base url is always <code>https://emoji.slack-edge.com</code></li>
<li><code>${team_id}</code> the identifier for the slack intance</li>
<li><code>${emoji_name}</code> is easy and quite guessable cause so many people like to recreate their last work slack in their new place, like <code>:falcepalm:</code></li>
<li><code>${cache_buster_hash}</code> is a random 10 character hex string so it can bust some caches</li>
</ul>
<blockquote>
<p>side note: <code>:squirrel:</code>  is a custom emoji on all instances &amp; can be used to confirm an <code>team_id</code></p>
</blockquote>
<p>The <code>${cache_buster_hash}</code> part seems to be a bit finiky. For <code>:squirrel:</code> it can be <strong>any</strong> value.
So <code>0000000000</code> is perfectly valid and is great to verify a <code>${team_id}</code></p>
<h2 id="ok-but-so-what">Ok, but so what?</h2>
<p>Well, it is handy to know and if you ever want to spook your security team
just let them know that employee PII (photos) in the form of emojis are publicly
accessible with three easy steps:</p>
<ol>
<li>Post the emoji in question</li>
<li><code>Right click &gt; Copy Image Link</code></li>
<li>Open that link in a private window / incognito window</li>
<li>ü§Øüßë‚Äçüíª <!-- I hope that ZWJ works everywhere --></li>
</ol>
<p>Though, you do need to have 3 pieces of information to get to it without it getting help from the inside.</p>
<p>I did take this to the Slack enterprise people once in a past job.
The response was: "Working as designed".</p>
<h2 id="what-can-i-do-really-do-with-this">What can I do really do with this?</h2>
<p>Well, not that much... you need to know the <code>${team_id}</code> of the slack instance you are interested in and sometimes the <code>${cache_buster_hash}</code>.</p>
<p>That is hard if you didn't save it somewhere before you got kicked off for spamming <code>:flag-ua::muscle::flag-ua:</code></p>
<p>So far I have not found any unauthenticated way to get that <code>${team_id}</code> but the <code>:squirrel:</code> trick is great
to confirm a slack instance.</p>
<h2 id="conculsion-faq">Conculsion / FAQ</h2>
<p>Is Slack emojis good for storing important information?</p>
<blockquote>
<p>No, but this is not an invitation to start using GUID's as emoji names nor to stop making wholesome memes of colleagues <strong>with their consent</strong>.</p>
</blockquote>
<p>So why are Slack emojis public?</p>
<blockquote>
<p>lol, no idea. Probably cause of some <del>legacy</del> money generating systems</p>
</blockquote>
<p>Should I save my companies Slack's <code>${team_id}</code> before I leave so I can download all my emojis later??</p>
<blockquote>
<p>Nah. Just treat your favourte emojis like NFT's, <code>right-click &gt; Save Image As ...</code> them cause who knows when the server is going offline.</p>
</blockquote>

					</div>
				</article>

				<hr />
				
				
			</div>
		</div>
	</div>
</main>


	
	<footer class='footer py-2'>
		<div class='has-text-centered'>
			<p class="mb-1">
				Built with üíª code and üíñ love
            </p>
			<p class="mt-1">
				Powered By üêæ Zola
			</p>
		</div>
	</footer>
	

	<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
	<script src='https://cdnjs.cloudflare.com/ajax/libs/elasticlunr/0.9.6/elasticlunr.min.js'></script>
	<script src='https://blog.rnett.nz/search_index.en.js'></script>
	<script src='https://blog.rnett.nz/js/site.js'></script>
	
	
</body>

</html>
